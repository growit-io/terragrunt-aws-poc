# Boot Stage

This directory contains Terragrunt configurations for the "boot" stage of the
[AWS Organizations](https://aws.amazon.com/organizations/) management account.
The configurations for this stage must be applied first, before any later stages
can be applied. Each subdirectory represents a distinct "layer" in the
configuration of this stage.

## Access control requirements

The configurations in this directory can be applied either as the root user of
the organization's management account, or as a privileged administrative user.
Since IAM users don't exist until later stages are applied, the first Terraform
run in this stage must be performed as the management account root user.

Some resources created in this stage may be _readable_ by unprivileged users,
such as the Terraform state for this stage.

## Terragrunt configuration conventions

The [`terragrunt.yml`](terragrunt.yml) file in this directory modifies the
conventions for all Terragrunt configurations below this hierarchy level.

### Terraform remote state backend

All configurations below this directory will use the S3 backend to store their
Terraform state. The name of the bucket is automatically generated by Terragrunt
and the bucket itself is also created by Terragrunt. Since the remote state for
this stage must be readable by non-privileged IAM users, **configurations in
this stage are not allowed to process sensitive information** that could end up
in the Terraform state.

### Terraform root module source

This directory extends the Terraform module source convention. The source of all
Terraform root modules used in configurations below this directory must include
the `${layer}` suffix.

### Terraform root module inputs

The following additional inputs are provided to all Terraform root modules via
`TF_VAR_` environment variables:

- **layer** (`string`): The name of the subdirectory which defines the
  respective configuration layer.
